@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --ring: 110 100% 40%;
}

@layer base {
  *, *::before, *::after {
    box-sizing: border-box;
  }
  
  html, body, #root {
    height: 100%;
  }
  
  html {
    /* Avoid conflict with smooth-scrolling libraries (Lenis) */
    scroll-behavior: auto;
  }
  
  body { 
    overscroll-behavior-y: contain; 
    -webkit-overflow-scrolling: touch; /* iOS momentum scroll */
    touch-action: pan-y; /* better touch scroll perf */
  }
  
  /* Reset button styles for consistency */
  button {
    margin: 0;
    padding: 0;
    border: none;
    background: none;
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
    color: inherit;
    cursor: pointer;
  }
  img, video, canvas, svg {
    max-width: 100%;
    height: auto;
    display: block;
  }
  /* Accessible skip link */
  .skip-link {
    position: absolute;
    left: -999px;
    top: auto;
    width: 1px;
    height: 1px;
    overflow: hidden;
  }
  .skip-link:focus {
    position: fixed;
    left: 1rem;
    top: 1rem;
    width: auto;
    height: auto;
    padding: 0.5rem 0.75rem;
    background: #065f46; /* emerald-800 */
    color: #ecfeff; /* light */
    border-radius: 0.5rem;
    z-index: 9999;
    box-shadow: 0 10px 30px rgba(16,185,129,.28);
  }

  /* Seamless global background gradient overlay - positioned behind particles */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -20; /* Behind particles which are above at -10 */
    pointer-events: none;
    background: linear-gradient(180deg, 
      rgba(236, 253, 245, 1) 0%,      /* emerald-50 */
      rgba(209, 250, 229, 0.95) 15%,  /* emerald-100 with fade */
      rgba(167, 243, 208, 0.85) 30%,  /* emerald-200 with fade */
      rgba(134, 239, 172, 0.7) 45%,   /* emerald-300 with fade */
      rgba(134, 239, 172, 0.5) 55%,   /* center transition */
      rgba(125, 211, 252, 0.7) 70%,   /* sky-300 with fade */
      rgba(186, 230, 253, 0.85) 85%,  /* sky-200 with fade */
      rgba(224, 242, 254, 1) 100%     /* sky-50 */
    );
    background-attachment: fixed;
    transform: translateZ(0);
    will-change: transform;
  }
  
  html.dark body::before {
    background: linear-gradient(180deg,
      rgba(11, 18, 32, 1) 0%,         /* slate-950 */
      rgba(15, 23, 42, 0.98) 15%,     /* slate-900 */
      rgba(30, 41, 59, 0.95) 30%,     /* slate-800 */
      rgba(51, 65, 85, 0.85) 45%,     /* slate-700 */
      rgba(51, 65, 85, 0.7) 55%,      /* center transition */
      rgba(30, 58, 138, 0.85) 70%,    /* blue-900 */
      rgba(15, 23, 42, 0.95) 85%,     /* slate-900 */
      rgba(2, 6, 23, 1) 100%          /* slate-950 */
    );
  }
  
  /* Additional radial gradient overlay for depth */
  body::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -20; /* Same layer as gradient */
    pointer-events: none;
    background-image:
      radial-gradient(ellipse 2000px 1200px at 50% 0%, rgba(16,185,129,0.08), transparent 50%),
      radial-gradient(ellipse 1800px 1000px at 50% 100%, rgba(14,165,233,0.08), transparent 50%),
      url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.015"/></svg>');
    background-size: 100% 100%, 100% 100%, 200px 200px;
    background-position: center top, center bottom, 0 0;
    mix-blend-mode: overlay;
  }
}

@layer components {
  .btn {
    @apply inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-500 to-sky-500 px-5 py-3 text-white shadow-lg shadow-emerald-500/20 hover:shadow-glow transition-all active:scale-[0.98];
  }
  .btn-outline {
    @apply inline-flex items-center gap-2 rounded-lg border border-emerald-400/40 px-5 py-3 text-emerald-600 dark:text-emerald-300 hover:bg-emerald-50/50 dark:hover:bg-emerald-900/20 transition-all;
  }
  .card {
    @apply rounded-2xl bg-white/70 dark:bg-slate-900/60 backdrop-blur border border-white/20 dark:border-slate-800 shadow-lg transition-all;
  }
  
  /* Circular Navigation Wheel - Consistent layout fixes */
  .circular-nav-container {
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    min-height: 560px;
    padding: 2rem;
  }
  
  .circular-nav-dots {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    margin-bottom: 2rem;
  }
  
  .circular-nav-dot {
    border-radius: 9999px;
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
    flex-shrink: 0;
    cursor: pointer;
    border: none;
    outline: none;
  }
  
  .circular-nav-dot:focus {
    outline: 2px solid rgb(52 211 153);
    outline-offset: 2px;
  }
  
  .circular-nav-dot.active {
    background-color: rgb(16 185 129);
    width: 0.75rem;
    height: 0.75rem;
    min-width: 0.75rem;
    min-height: 0.75rem;
    box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.5);
  }
  
  .circular-nav-dot.inactive {
    background-color: rgb(71 85 105);
    width: 0.5rem;
    height: 0.5rem;
    min-width: 0.5rem;
    min-height: 0.5rem;
  }
  
  .circular-nav-dot.inactive:hover {
    background-color: rgb(100 116 139);
    width: 0.625rem;
    height: 0.625rem;
  }
  
  .circular-nav-controls {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 2rem;
  }
  
  .circular-nav-button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    border-radius: 1rem;
    background-color: rgb(30 41 59);
    color: rgb(148 163 184);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    border: 1px solid rgb(51 65 85);
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    min-width: 3.5rem;
    min-height: 3.5rem;
    width: 3.5rem;
    height: 3.5rem;
  }
  
  .circular-nav-button:hover {
    color: rgb(52 211 153);
    border-color: rgb(71 85 105);
    transform: scale(1.05);
  }
  
  .circular-nav-button:active {
    transform: scale(0.95);
  }
  
  .circular-nav-button:focus {
    outline: 2px solid rgb(52 211 153);
    outline-offset: 0;
  }
  
  .circular-nav-center-dot {
    width: 0.75rem;
    height: 0.75rem;
    min-width: 0.75rem;
    min-height: 0.75rem;
    background-color: rgb(16 185 129);
    border-radius: 9999px;
    box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.5);
    flex-shrink: 0;
    margin: 0 1rem;
  }
  .card-vintage { box-shadow: inset 0 0 0 1px rgba(212,175,55,.25), inset 0 0 0 4px rgba(255,255,255,.05); }
  .font-display { font-family: 'Playfair Display', serif; }
  .text-gold { @apply bg-clip-text text-transparent bg-gradient-to-r from-amber-400 to-yellow-200; }
  .text-golden-shiny {
    background: linear-gradient(45deg, #f6e27a 0%, #f7c14b 25%, #ffd700 50%, #f7c14b 75%, #f6e27a 100%);
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    background-size: 200% 100%;
    animation: gradient-golden 3s ease-in-out infinite;
    filter: drop-shadow(0 0 20px rgba(247, 193, 75, 0.6)) drop-shadow(0 0 10px rgba(255, 215, 0, 0.4));
    text-shadow: 0 0 30px rgba(247, 193, 75, 0.8);
    -webkit-text-fill-color: transparent;
  }
  .btn-gold { @apply inline-flex items-center gap-2 rounded-lg px-5 py-3 text-slate-900 shadow-lg transition-all active:scale-[0.98]; background: linear-gradient(90deg,#f6e27a,#f7c14b,#f6e27a); background-size:200% 100%; animation: gradient-x 6s ease infinite; box-shadow: 0 10px 30px rgba(247,193,75,.25); }
  .nav-link {
    @apply px-3 py-2 rounded-md hover:text-emerald-500 dark:hover:text-emerald-400 transition-colors;
  }
  .chip {
    @apply px-2 py-1 rounded border border-slate-200 dark:border-slate-800 text-xs text-slate-700 dark:text-slate-300 hover:bg-emerald-50/60 dark:hover:bg-emerald-900/20 transition-colors;
  }
  .chip-selected {
    @apply px-2 py-1 rounded border border-emerald-400 bg-emerald-50/60 dark:bg-emerald-900/20 text-xs text-emerald-700 dark:text-emerald-300;
  }
}

@layer utilities {
  .shadow-glow { box-shadow: 0 10px 30px rgba(16,185,129,.28), 0 6px 16px rgba(14,165,233,.22); }
  .hover-lift { transition: transform .25s ease, box-shadow .25s ease; }
  .hover-lift:hover { transform: translateY(-2px); box-shadow: 0 16px 40px rgba(16,185,129,.18), 0 10px 24px rgba(14,165,233,.16); }
  .text-gradient { @apply bg-clip-text text-transparent bg-gradient-to-r from-emerald-500 to-sky-500; }
  
  /* Enhanced background gradients */
  .bg-aurora {
    background-image:
      radial-gradient(60% 50% at 10% 10%, rgba(16,185,129,.18), rgba(16,185,129,0) 60%),
      radial-gradient(50% 50% at 90% 20%, rgba(14,165,233,.18), rgba(14,165,233,0) 60%),
      radial-gradient(60% 60% at 30% 90%, rgba(59,130,246,.15), rgba(59,130,246,0) 60%);
  }
  .bg-gradient-radial { background: radial-gradient(circle, var(--tw-gradient-stops)); }
  
  /* Animations */
  .animate-gradient-x { background-size: 200% 100%; animation: gradient-x 8s ease infinite; }
  .animation-delay-2000 { animation-delay: 2s; }
  .animation-delay-4000 { animation-delay: 4s; }
  
  /* Responsive utilities */
  .container-fluid { width: 100%; max-width: 100%; padding-left: 1rem; padding-right: 1rem; }
  .safe-area-top { padding-top: env(safe-area-inset-top); }
  .safe-area-bottom { padding-bottom: env(safe-area-inset-bottom); }
  
  /* Mobile-first responsive text */
  .text-responsive-xl { @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl; }
  .text-responsive-lg { @apply text-xl sm:text-2xl md:text-3xl lg:text-4xl; }
  .text-responsive-md { @apply text-lg sm:text-xl md:text-2xl; }
  .text-responsive-sm { @apply text-sm sm:text-base md:text-lg; }
  
  /* Enhanced Animations */
  @keyframes gradient-x { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
  @keyframes gradient-golden {
    0% { 
      background-position: 0% 50%;
      filter: hue-rotate(0deg) saturate(1) brightness(1);
    }
    25% {
      background-position: 25% 50%;
      filter: hue-rotate(10deg) saturate(1.1) brightness(1.1);
    }
    50% { 
      background-position: 100% 50%;
      filter: hue-rotate(20deg) saturate(1.2) brightness(1.2);
    }
    75% {
      background-position: 75% 50%;
      filter: hue-rotate(10deg) saturate(1.1) brightness(1.1);
    }
    100% { 
      background-position: 0% 50%;
      filter: hue-rotate(0deg) saturate(1) brightness(1);
    }
  }
  
  @keyframes shimmer {
    0% {
      transform: translateX(-100%) skewX(-15deg);
    }
    50% {
      transform: translateX(0%) skewX(-15deg);
    }
    100% {
      transform: translateX(100%) skewX(-15deg);
    }
  }
  @keyframes glow-pulse {
    0%, 100% { 
      box-shadow: 0 0 20px rgba(247, 193, 75, 0.3), 0 0 40px rgba(255, 215, 0, 0.2);
      filter: drop-shadow(0 0 8px rgba(247, 193, 75, 0.4));
    }
    50% { 
      box-shadow: 0 0 30px rgba(247, 193, 75, 0.6), 0 0 60px rgba(255, 215, 0, 0.4);
      filter: drop-shadow(0 0 12px rgba(247, 193, 75, 0.7));
    }
  }
  @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }
  @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 20px rgba(16,185,129,0.3); } 50% { box-shadow: 0 0 40px rgba(16,185,129,0.6); } }
  
  .animate-float { animation: float 3s ease-in-out infinite; }
  .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
  .animate-gradient-golden { animation: gradient-golden 4s ease-in-out infinite; }
  .animate-shimmer { animation: shimmer 2s ease-in-out infinite; }
  .animate-glow-pulse { animation: glow-pulse 3s ease-in-out infinite; }
  
  /* Smooth scrolling helpers */
  .smooth-scroll { scroll-behavior: smooth; -webkit-overflow-scrolling: touch; }
  .gpu-layer { will-change: transform; transform: translateZ(0); }
}
